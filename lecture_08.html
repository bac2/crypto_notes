<h2>Lecture 8</h2>
<p><em>Lecture: Tue 11th February 2014 &nbsp;-&nbsp; Today: Tue 18th February 2014</em></p>

<h3>Lorenz Cipher</h3>
<ul>
    <li>The traffic intecepted was refered to as "Fish"
        <ul>
            <li>It sounded like the bubbling of fishes</li>
        </ul>
    </li>
    <li>The machinary was nicknamed "Tunny"</li>
    <li>German high command teleprinter cipher</li>
    <li>Didn't see the machines before they broke iti</li>
    <li>Encrypted each 5 bit word XOR with pseudorandom numbers</li>
    <li>Ideally you would use a one time pad with truly random numbers</li>
    <li>But there is a huge problem with key distribution here</li>
    <li>Mechanical contraption generated pseudorandom numbers</li>
    <li>Used prime numbers of cogs</li>
    <li>Rotated in fancy ways</li>
    <li><b>THERE WAS A TERRIBLE COCK UP!</b>
    <li>As often seen, ciphers can be broken by poor operator practice</li>
    <li>There was a message that wasn't received correctly
        <ul>
            <li>So they retransmitted it with the corrections -- using the same key!
        </ul>
    </li>
    <li>XOR'd the two messaged together to get PT1 XOR PT2</li>
    <li>It was possible to find the PTs then find the key</li>
    <li>They were actually able to reconstruct the whole machine using the key</li>
</ul>

<h3>Venona decrypts</h3>
<ul>
    <li>Manual one time pad</li>
    <li>Typed out on paper and XOR'd by hand</li>
    <li>Used codewords, unless stated otherwise</li>
        <ul>
            <li>The fact that it had these two mode actually made it easier to decode</li>
        </ul>
    </li>
    <li>Bad operator practice lead to one time pads being reused</li>
    <li>The breaking of this code relied on a very high capture</li>
    <li>Which were then cross checked</li>
    <li>If you capture everything, maybe you will find where someone screwed up</li>
    <li>The information gleaned from Venona was useful for years</li>
    <li>Roundup Russian spies and kill 'em</li>
</ul>

<h3>Steganography</h3>
<ul>
    <li>Hiding the presence of any message at all</li>
    <li>Some JPEGs and some tools</li>
    <li>Turns out you can concatenate a JPEG to the end of another JPEG 
        <ul>
            <li>and you won't be able to see it</li>
        </ul>
    </li>
    <li>There was some data hidden in the metadata</li>
    <li>Encrypted with something similar to RC4
    <ul>
        <li>RC4 is both broken and widely used</li>
    </ul>
    </li>
</ul>

<h2 style="color:red">And now for some maths!</h2>
<h2>Groups</h2>
<ul>
    <li>Consists of a set, and a binary operation</li>
    <li>Binary operation takes two elements of the set, and returns another element of the set</li>
    <li>Basic example:
        <ul>
            <li>The integers under addition: 7 + 9 = 16</li>
            <li>Numbers are elements, addition is the operator</li>
        </ul>
    </li>
    <li>Groups are symmetries</li>
    <li>They originate in operations we can perform on things, for example rotating some paper</li>
    <li>There is a well defined order</li>
    <li>We throw away the things they act upon</li>
    <li>We can now focus on what the operators do</li>
    <li>And how they relate to one another</li>
    <li>Category theory looks at the relationships while throwing away the sets</li>
    <li>You can think about the integers as being operators on bananas 
        <ul>
            <li>3 bananas + 2 bananas - 4 bananas: Makes sense</li>
        </ul>
    </li>
</ul>
<h4>The rules</h4>
<ul>
    <li>There must be an identity e 
        <ul>
            <li>∀ s | es = se = s</li>
            <li>For integers under addition this is 0</li>
        </ul>
    </li>
    <li>There must be an inverse s-1
        <ul>
            <li>s op s-1 = e</li>
            <li>s = 3; s-1 = -3</li>
        </ul>
    </li>
    <li>Associativity
        <ul>
            <li>The magic that captures in the abstract group, 
            the fact that this comes from acting on things</li>
            <li>(a op b) op c = a op (b op c)</li>
        </ul>
    </li>
</ul>


<h4>An example</h4>
<center>
    <table>
        <tr>
            <td></td><td><b>e</b></td><td><b>a</b></td><td><b>b</b></td>
        </tr>
        <tr>
            <td><b>e</b></td><td>e</td><td>a</td><td>b</td>
        </tr>
        <tr>
            <td><b>a</b></td><td>a</td><td>b</td><td>e</td>
        </tr>
        <tr>
            <td><b>b</b></td><td>b</td><td>e</td><td>a</td>
        </tr>
    </table>
</center>
<ul>
    <li>Can't have the same thing in two rows:
    <ul>
        <li>a e = a  AND a b = a</li>
        <li>So we can't have an inverse - we have forgotten where we came from</li>
        <li>a-1 a e = e  AND a-1 a b = b</li>
        <li>but a e and a b are both a</li>
    </ul>
    </li>
    <li>It's a Latin square</li>
    <li>You don't know for sure that it is a group</li>
    <ul>
        <li>You know there can be inverses, but you don't know that there are</li>
    </ul>
    </li>
    <li>You also don't know that it is associative
    <li>But this is the same:</li>
</ul>
<center>
    <table>
        <tr>
            <td><b>+</b></td><td><b>0</b></td><td><b>1</b></td><td><b>2</b></td>
        </tr>
        <tr>
            <td><b>0</b></td><td>0</td><td>1</td><td>2</td>
        </tr>
        <tr>
            <td><b>1</b></td><td>1</td><td>2</td><td>0</td>
        </tr>
        <tr>
            <td><b>2</b></td><td>2</td><td>0</td><td>1</td>
        </tr>
    </table>
</center>
<ul>
    <li>And that there is just addition modulo 3</li>
    <li>Modular addition always gets you a group :)</li>
        <ul>
            <li>To understand why, you must be careful</li>
        </ul>
    </li>
    <li>We know integers under addition form a group
        <ul>
            <li>Pick 0, 1, 2 as representatives of the integers</li>
            <li>All integers of form 3n
            <ul>
                <li>3n, 3n + 1, 3n + 2</li>
                <li>If we do addition on any two elements of these three sets</li>
                <li>our answer will be in one of the sets</li>
            </ul>
            <li>e.g. (3n + 1) + (3n + 2)  =  (3n)</li>
        </ul>
    </li>
    <li>A classic way to make a group is to take something that we know has 
        the desired properties, and then restricting the size</li>
        <li>Associativity is a nightmare!</li>
        <ul>
            <li>Just start with something you know is associative, and throw some away</li>
        </ul>
    </li>
    <li>Latin square just guarantees that everything COULD have an inverse
        <ul>
            <li>But doesn't guarantee it</li>
            <li>When making a latin square you could throw away inverses 
            to make it look right...</li>
        </ul>
    </li>
</ul>

<h4>A very small group</h4>
<strong style="color: red">[[TODO: PICTURE FROM SLIDES]]</strong>
<ul>    
    <li>A perfectly good group
        <ul>
            <li>Got a set and an operation, is associative, has identity and inverse</li>
        </ul>
    </li>
    <li>Actually a useful group for error correcting codes</li>
    <li>This is the group of binary multiplication</li>
 
<h4>A slightly bigger group</h4>
<strong style="color: red">[[TODO: PICTURE FROM SLIDES]]</strong>
Addition modulo 2 
Perfectly good group
You can check associativity by hand if you really want to
But you already know it's associative because its modulo 2 arithmetic
And we have a nice proof for that
A bigger group
[[PICTURE FROM SLIDES]]
Not all filled in?
Could it be x,y or z?
It's like a sudoku -- but easier 
Any old latin square of size 2 or 3 is a group...
Bigger still
[[PICTURE FROM SLIDES]]
Modulo 4 addition
Once again, it's fine
Notice that 1 + 1 is not 0
1 + 1 + 1 + 1 = 0
Can we make a latin square with 0s on the diagonal
Yes, but it must be structurally different from the one above
There is no way of relabeling it to get back to it
Each element by itself gives you the identity, which wasn't true before
To check associativity
Write it as vectors
0 is (0, 0)
1 is (1, 0)
2 is (0, 1)
3 is (1, 1)
Then we do addition mod 2 component by component
If you think of it that way it is instantly obvious that is is associative
We have just paired up two copies
There are two groups that are distinct:
In one: 1 + 1 =0 
In the other 1 + 1 + 1 + 1 = 0

Quick recap
Group G: Set s∈ S, Operation o
MUST HAVE 
Identity e
Inverse s-1
Associativity
Do not in general require commutativity
But the ones that we care about do tend to be

