<h1>Week Two</h1>
<h2>Lecture 4</h2>
<p><em>Lecture: Mon 3rd February 2014 &nbsp;-&nbsp; Today: Tue 18th February 2014</em></p>

<h3>Some Notes About Manual Ciphers</h3>
<ul>
    <li>By the 1930s we began using electrical machines</li>    
    <li>You need to be able to use codes &amp; ciphers when under stress</li>
    <li>Get your message out and burn the codebooks before the red guard burst in</li>
    <li>You want manual ciphers to be robust to errors:
        <ul>
            <li>One small mistake will only cause a small localised error</li>
            <li>Vigenere cipher - if you lose a character then you lose the message</li>
            <li>Cipher clarks probably won't know how to fix the message </li>
        </ul>
    </li>
    <li>The messages need to actually arrive!
        <ul>
            <li>No point encrypting it if noone will ever receive it</li>
            <li>If it didn't need to be told, you just wouldn't tell anyone</li>
        </ul>
    </li>
    <li>Distributing equipment is very difficult</li>
    <li>If the enemy capture a code machine...</li>
    <li>Usually you make it very hard to steal
        <ul>
            <li>Nail it down</li>
            <li>Self destruction</li>
        </ul>
    </li>
    <li>Owning a one time pad is a bit of a giveaway that you are a spy
        <ul>
            <li>Concealing it in a hairbrush handle</li>
        </ul>
    </li>
    <li>Security only needs to be good enough
        <ul>
            <li>Tomorrows invasion plans only needs two days worth of protection 
            against cracking</li>
            <li>This is a bit misleading, there may be other information included
            that you don't want to share</li>
            <li>This could lead to a crib...</li>
        </ul>
    </li> 
    <li>You know what the message probably said based on what happened
        <ul>
            <li>Similar to the weather ship technique</li>
        </ul>
    </li>
    <li>When the Edward Snowden slides first came out people showed of 
    their graphic design skills by making slick versions of the slides</li>
    <li>But the real issue was the auxiliary information that had no 
    reason to be on the slides</li>
    <br />
    <li>David Khan's "The Code Breakers" -- standard text of classical cryptanalysis</li>
    <li>Room 40 in the navy... </li>
    <li>Army bad, Navy good, Air Force didn't exist</li>
</ul>

<h3>Enigma Machine</h3>
<ul>
    <li>Enigma was a particularly interesting case
        <ul>
            <li>Cracking it probably helped us win the war</li>
            <li>Predicting U-boat movements was helpful</li>
        </ul>
    </li>
    <li>Commercial machines</li>
    <li>Military version was strengthened by the addition of a plug board</li>
    <li>Could buy one for about £100,000</li>
    <li>They have a variable number of rotors: usually three or four
        <ul>
            <li>The rotors can also be shuffled</li>
            <li>And there may be extra "spare" rotors</li>
        </ul>
    </li>
    <li>This leads to around 26^4 keys (~18 bits..)</li>
    <li>Press a key on the keyboard, and a corresponding letter lights up</li>
    <li>Fully symmetric:
        <ul>
            <li>If you get two machines in the same starting state</li>
            <li>Enter plaintext in one → Ciphertext</li>
            <li>Enter ciphertext in the other → Plaintext</li>
        </ul>
    </li>
    <li>Typically enter messages in as five character groups
        <ul>
            <li>Allows us to work out quickly where the error was</li>
            <li>Worst case 5 letters wrong (Per mistake)</li>
        </ul>
    </li>
    <li>An electromechanical device</li>
    <li>One each key press two things happen</li>
    <li>Closes a switches 
        <ul>
            <li>Rotates one of the wheels -- 
                When you rotate one wheel 26 times, the next one rotates</li>
            <li>The sets of contacts in the wheels jumble things up</li>
        </ul>
    </li>
    <li>Mapping of contacts permutes the letters</li>
    <li>By going both ways across the wheels, decryption and encryption are the same</li>
    <li>One interesting feature is that the letter cannot be enciphered to itself
        <ul>
            <li>This lets you know that a message <b>CAN'T</b> be the message</li>
            <li>If any letters match up, we know the candidate plaintext is wrong</li>
            <li>Or, we have part of a crib, we can shift it around until it doesn't match up</li>
        </ul>
    </li>
    <li>Really not enough keys by default</li>
    <li>Just get a big group of Indians to do it</li>
    <li>The plug board was used to increase the keyspace</li>
    <li>Shuffle letters up in a monoalphabetic substitution</li>
    <li>An extra fixed permutation - e.g. Swap 's' and 't'</li>
    <li>This dramatically increases the number of keys </li>
        <ul>
            <li>Just one plug multiplies the number of keys by (26 * 25) / 2</li>
            <li>Most of the complexity of the cipher actually comes from the plug board</li>
            <li>Without the other part though we could just use frequency analysis</li>
        </ul>
    </li>
    <li>Summary:
    <ul>
        <li>Most of the key space is in the plugboard
            <ul>
                <li>But we can crack that easily with frequency analysis</li>
            </ul>
        </li>
        <li>The rotors on their own would be very weak
            <ul>
                <li>But aren't susceptible to frequency analysis</li>
            </ul>
        </li>
        <li>Together we get the best of both worlds</li>
        <li>To attack this we need to factor the problem
            <ul>
                <li>Wheels and plugboard attacked separately</li>
            </ul>
        </li>
        <li>Thanks Poles!</li>
    </ul> 
</ul>

<h3>Colossus & Tunny/Fish</h3>
<ul>
    <li>Colossus was the code name for the computer used to attack tuny (a teleprinter code)</li>
    <li>Did all the encryption and decryption for you</li>
</ul>

<h3>Venona</h3>
<ul>
    <li>Venona, breaks into the manual crypto system used by the Russians</li>
    <li>1942 onwards - Americans break Soviet ciphers</li>
</ul>

<h3>Tangents</h3>
<h4>RADAR</h4>
<ul>
    <li>After the war RADAR was a big deal</li>
    <li>Microwave RADAR (few cm wavelengths)</li>
    <li>Can pick up small up small structures
        <ul>
            <li>Periscopes</li>
        </ul>
    </li>
    <li>Was difficult to get high enough power</li>
    <li>Resolved by the invention of the Cavity Magnetron</li>
    <li>H2S</li>
    <li>Note: you may have Cavity Magnetron 
    <ul>
        <li>They exist in Microwave ovens</li>
        <li>They are like a referee's whistle for Microwaves</li>
        <li>You can use a Cavity magnetron as an amateur radio</li>
    </ul>
    <li>Radiation is bad for your eyes 
        <ul>
            <li>Your brain is probably fine; It's all about the blood supply</li>
        </ul>
    </li>
    <li>NEVER LOOK DOWN A MICROWAVE WAVE GUIDE</li>
</ul>
    
<h4>Teleprinters</h4>
<ul>
    <li>Were all the rage in the 70s
    <li>They have lots of them in cold war bunkers 
    <li>Denis used to hang about in cold war bunkers
    <ul> 
        <li>Home office advisor</li>
    </ul>
</ul>

<h4>Bagpipes on a Boat</h4>
<ul>
    <li>British embassy wasn't attacked once because we got a bagpiper to scare people away</li>
    <li>Denis once went on a boat with a bag piper</li>
</ul>

<h4>Spy Stories</h4>
<ul>
    <li>Venona was the inspiration for all the great spy stories of the 1950s</li>
    <li>You should watch Tinker Tailor Solider Spy...</li>
    <li>It's kinda a true story - names changed to protect the guilty</li>
    <li>There were lots of spies, they did stuff</li>
    <li>There is also "A Small Town in Germany"  -- Short story</li>
</ul>
